# Worklog 2026-02-04

## Erledigt
- Zentrales Admin-Dashboard erweitert:
  - Branding-Form (App-Name, Firmenname, Logo, Site-URL)
  - Theme-Form (Farben, Font, Radius, Dark-Mode)
  - App-Toggles (Approvals, Helpdesk, CloudStorage, Classroom)
  - Plugin-System zentral integriert
- Neue System-Settings Seite: `/system-settings/`
- Globales Theme/Branding über `templates/base.html` aktiv
- App-Toggles im Kontext verfügbar (`app_toggles`)
- Middleware blockiert deaktivierte Apps (404)
- Approvals deaktivierbar + UI-Links ausgeblendet
- Approvals archivieren + ausblenden (archived-Feld)
- Helpdesk/Cloud Settings verweisen auf Admin-Dashboard

## Datenbank
- Migration: `admin_panel.0011_add_app_toggles`
- Migration: `approvals.0003_add_archived`
- Approvals werden beim Deaktivieren automatisch archiviert.

## Wichtige Files
- `templates/admin_dashboard.html`
- `templates/system_settings.html`
- `templates/base.html`
- `apps/core/views.py`
- `apps/core/forms.py`
- `apps/core/middleware.py`
- `apps/core/context_processors.py`
- `apps/helpdesk/helpdesk_apps/admin_panel/models.py`
- `apps/approvals/models.py`
- `apps/approvals/views.py`
- `config/urls.py`
- `config/settings/base.py`

## TODO / Nächster Schritt
- Server neu starten und folgende Seiten testen:
  - `/admin-dashboard/` (Branding/Theme/Toggles/Plugins)
  - `/system-settings/`
  - `/login/` -> `/dashboard/`
  - App-Toggles prüfen (Approvals/Helpdesk/CloudStorage/Classroom)
- Falls Approvals dauerhaft deaktiviert:
  - Prüfen ob irgendwo noch direkte Links auf `/approvals/` existieren
- Optional: Admin-Dashboard mit Quick-Stats erweitern


## Nächste Schritte (gewünscht)
- Admin-Dashboard: Quick-Stats / Übersichtskarten ergänzen
- Theme-Live-Preview im Admin-Dashboard (Farben/Font sofort sichtbar)
- System Health Bereich (Status: DB, Cache, Plugins, Speicher)
